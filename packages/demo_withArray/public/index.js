/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/view/css/app.css":
/*!******************************!*\
  !*** ./src/view/css/app.css ***!
  \******************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js */ "../../node_modules/css-loader/dist/runtime/sourceMaps.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../node_modules/css-loader/dist/runtime/api.js */ "../../node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, "body{\n  background:#EEEEEE;    \n }\n .user-profile-2 {\n     text-align: center;\n     position: relative;\n     margin-top:10px;\n }\n \n .box-info {\n     position: relative;\n     padding: 15px;\n     background: #fff;\n     color: #5b5b5b;\n     margin-bottom: 20px;\n     -webkit-transition: All 0.4s ease;\n     -moz-transition: All 0.4s ease;\n     -o-transition: All 0.4s ease;\n     border-bottom:4px solid #DDDDDD;\n }\n \n .user-profile-2 .header-cover {\n     position: absolute;\n     left: 0;\n     top: 0;\n     right: 0;\n     height: 130px;\n     overflow: hidden;\n     z-index: 1;\n }\n \n .user-profile-2 .user-profile-inner {\n     z-index: 2;\n     position: relative;\n }\n \n .user-profile-2 .user-profile-inner h4.white {\n     color: #fff;\n }\n \n .user-profile-2 .user-profile-inner img.profile-avatar {\n     box-shadow: 0 0 0 5px rgba(255,255,255,1);\n     -moz-box-shadow: 0 0 0 5px rgba(255,255,255,1);\n     -webkit-box-shadow: 0 0 0 5px rgba(255,255,255,1);\n     border: none;\n     width:100px;\n     height:100px;\n }\n \n .user-button {\n     margin: 15px 0;\n }", "",{"version":3,"sources":["webpack://./src/view/css/app.css"],"names":[],"mappings":"AAAA;EACE,kBAAkB;CACnB;CACA;KACI,kBAAkB;KAClB,kBAAkB;KAClB,eAAe;CACnB;;CAEA;KACI,kBAAkB;KAClB,aAAa;KACb,gBAAgB;KAChB,cAAc;KACd,mBAAmB;KACnB,iCAAiC;KACjC,8BAA8B;KAC9B,4BAA4B;KAC5B,+BAA+B;CACnC;;CAEA;KACI,kBAAkB;KAClB,OAAO;KACP,MAAM;KACN,QAAQ;KACR,aAAa;KACb,gBAAgB;KAChB,UAAU;CACd;;CAEA;KACI,UAAU;KACV,kBAAkB;CACtB;;CAEA;KACI,WAAW;CACf;;CAEA;KACI,yCAAyC;KACzC,8CAA8C;KAC9C,iDAAiD;KACjD,YAAY;KACZ,WAAW;KACX,YAAY;CAChB;;CAEA;KACI,cAAc;CAClB","sourcesContent":["body{\n  background:#EEEEEE;    \n }\n .user-profile-2 {\n     text-align: center;\n     position: relative;\n     margin-top:10px;\n }\n \n .box-info {\n     position: relative;\n     padding: 15px;\n     background: #fff;\n     color: #5b5b5b;\n     margin-bottom: 20px;\n     -webkit-transition: All 0.4s ease;\n     -moz-transition: All 0.4s ease;\n     -o-transition: All 0.4s ease;\n     border-bottom:4px solid #DDDDDD;\n }\n \n .user-profile-2 .header-cover {\n     position: absolute;\n     left: 0;\n     top: 0;\n     right: 0;\n     height: 130px;\n     overflow: hidden;\n     z-index: 1;\n }\n \n .user-profile-2 .user-profile-inner {\n     z-index: 2;\n     position: relative;\n }\n \n .user-profile-2 .user-profile-inner h4.white {\n     color: #fff;\n }\n \n .user-profile-2 .user-profile-inner img.profile-avatar {\n     box-shadow: 0 0 0 5px rgba(255,255,255,1);\n     -moz-box-shadow: 0 0 0 5px rgba(255,255,255,1);\n     -webkit-box-shadow: 0 0 0 5px rgba(255,255,255,1);\n     border: none;\n     width:100px;\n     height:100px;\n }\n \n .user-button {\n     margin: 15px 0;\n }"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "../../node_modules/css-loader/dist/runtime/api.js":
/*!*********************************************************!*\
  !*** ../../node_modules/css-loader/dist/runtime/api.js ***!
  \*********************************************************/
/***/ ((module) => {



/*
  MIT License http://www.opensource.org/licenses/mit-license.php
  Author Tobias Koppers @sokra
*/
module.exports = function (cssWithMappingToString) {
  var list = []; // return the list of modules as css string

  list.toString = function toString() {
    return this.map(function (item) {
      var content = "";
      var needLayer = typeof item[5] !== "undefined";

      if (item[4]) {
        content += "@supports (".concat(item[4], ") {");
      }

      if (item[2]) {
        content += "@media ".concat(item[2], " {");
      }

      if (needLayer) {
        content += "@layer".concat(item[5].length > 0 ? " ".concat(item[5]) : "", " {");
      }

      content += cssWithMappingToString(item);

      if (needLayer) {
        content += "}";
      }

      if (item[2]) {
        content += "}";
      }

      if (item[4]) {
        content += "}";
      }

      return content;
    }).join("");
  }; // import a list of modules into the list


  list.i = function i(modules, media, dedupe, supports, layer) {
    if (typeof modules === "string") {
      modules = [[null, modules, undefined]];
    }

    var alreadyImportedModules = {};

    if (dedupe) {
      for (var _i = 0; _i < this.length; _i++) {
        var id = this[_i][0];

        if (id != null) {
          alreadyImportedModules[id] = true;
        }
      }
    }

    for (var _i2 = 0; _i2 < modules.length; _i2++) {
      var item = [].concat(modules[_i2]);

      if (dedupe && alreadyImportedModules[item[0]]) {
        continue;
      }

      if (typeof layer !== "undefined") {
        if (typeof item[5] === "undefined") {
          item[5] = layer;
        } else {
          item[1] = "@layer".concat(item[5].length > 0 ? " ".concat(item[5]) : "", " {").concat(item[1], "}");
          item[5] = layer;
        }
      }

      if (media) {
        if (!item[2]) {
          item[2] = media;
        } else {
          item[1] = "@media ".concat(item[2], " {").concat(item[1], "}");
          item[2] = media;
        }
      }

      if (supports) {
        if (!item[4]) {
          item[4] = "".concat(supports);
        } else {
          item[1] = "@supports (".concat(item[4], ") {").concat(item[1], "}");
          item[4] = supports;
        }
      }

      list.push(item);
    }
  };

  return list;
};

/***/ }),

/***/ "../../node_modules/css-loader/dist/runtime/sourceMaps.js":
/*!****************************************************************!*\
  !*** ../../node_modules/css-loader/dist/runtime/sourceMaps.js ***!
  \****************************************************************/
/***/ ((module) => {



module.exports = function (item) {
  var content = item[1];
  var cssMapping = item[3];

  if (!cssMapping) {
    return content;
  }

  if (typeof btoa === "function") {
    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));
    var data = "sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(base64);
    var sourceMapping = "/*# ".concat(data, " */");
    var sourceURLs = cssMapping.sources.map(function (source) {
      return "/*# sourceURL=".concat(cssMapping.sourceRoot || "").concat(source, " */");
    });
    return [content].concat(sourceURLs).concat([sourceMapping]).join("\n");
  }

  return [content].join("\n");
};

/***/ }),

/***/ "../../node_modules/js-state-manager/lib/store/callbackHandler.js":
/*!************************************************************************!*\
  !*** ../../node_modules/js-state-manager/lib/store/callbackHandler.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "processCallBack": () => (/* binding */ processCallBack)
/* harmony export */ });
var __spreadArray = (undefined && undefined.__spreadArray) || function (to, from, pack) {
    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {
        if (ar || !(i in from)) {
            if (!ar) ar = Array.prototype.slice.call(from, 0, i);
            ar[i] = from[i];
        }
    }
    return to.concat(ar || Array.prototype.slice.call(from));
};
var processCallBack = function (context, state) {
    context.callbacks.forEach(function (callbackObj) {
        callbackObj.callbacks.apply(context, __spreadArray([state], callbackObj.args, true));
    });
};
//# sourceMappingURL=callbackHandler.js.map

/***/ }),

/***/ "../../node_modules/js-state-manager/lib/store/handler.js":
/*!****************************************************************!*\
  !*** ../../node_modules/js-state-manager/lib/store/handler.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "defaultHandle": () => (/* binding */ defaultHandle)
/* harmony export */ });
/* harmony import */ var _callbackHandler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./callbackHandler */ "../../node_modules/js-state-manager/lib/store/callbackHandler.js");

var defaultHandle = function (context) {
    return {
        get: function (state, key, value) {
            if (key === "splice") {
                var origMethod_1 = state[key];
                return function () {
                    var args = [];
                    for (var _i = 0; _i < arguments.length; _i++) {
                        args[_i] = arguments[_i];
                    }
                    origMethod_1.apply(state, args);
                    (0,_callbackHandler__WEBPACK_IMPORTED_MODULE_0__.processCallBack)(context, state);
                };
            }
            return state[key];
        },
        set: function (state, key, value) {
            if (Array.isArray(state) && key === "length") {
                state[key] = value;
                return true;
            }
            else {
                state[key] = value;
                (0,_callbackHandler__WEBPACK_IMPORTED_MODULE_0__.processCallBack)(context, state);
                return true;
            }
        },
        deleteProperty: function (state, key) {
            if (key in state) {
                delete state[key];
                (0,_callbackHandler__WEBPACK_IMPORTED_MODULE_0__.processCallBack)(context, state);
                return true;
            }
        }
    };
};
//# sourceMappingURL=handler.js.map

/***/ }),

/***/ "../../node_modules/js-state-manager/lib/store/store.js":
/*!**************************************************************!*\
  !*** ../../node_modules/js-state-manager/lib/store/store.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _handler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./handler */ "../../node_modules/js-state-manager/lib/store/handler.js");

var StateStore = /** @class */ (function () {
    function StateStore(param) {
        this.name = param.name;
        this.state = new Proxy((param.state || {}), (0,_handler__WEBPACK_IMPORTED_MODULE_0__.defaultHandle)(this));
        this.callbacks = param.callbacks || [];
    }
    StateStore.prototype.dispatch = function (actionCallback, payload) {
        this.state = actionCallback(this.state, payload);
        return this.state;
    };
    StateStore.prototype.subscribe = function (fnparam) {
        var args = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            args[_i - 1] = arguments[_i];
        }
        this.callbacks.push({ callbacks: fnparam, args: args });
    };
    return StateStore;
}());
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (StateStore);
//# sourceMappingURL=store.js.map

/***/ }),

/***/ "../../node_modules/js-state-manager/lib/storemanager.js":
/*!***************************************************************!*\
  !*** ../../node_modules/js-state-manager/lib/storemanager.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "StoreManager": () => (/* binding */ StoreManager)
/* harmony export */ });
/* harmony import */ var _store_store__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./store/store */ "../../node_modules/js-state-manager/lib/store/store.js");

///////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////// Store Manager provide signle instance to manager store  /////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////
var StoreManager = /** @class */ (function () {
    function StoreManager(storeMap) {
        this.storeMap = storeMap;
    }
    /*
     This method takes one  args Name of the store
      and validate returns the store if presents
     */
    StoreManager.prototype.createStore = function (store) {
        var mystore = new _store_store__WEBPACK_IMPORTED_MODULE_0__["default"](store);
        this.storeMap.set(mystore.name, mystore);
        return mystore;
    };
    /*
     This method takes one  args Name of the store
      and validate returns the store if presents
     */
    StoreManager.prototype.getStore = function (name) {
        return this.storeMap.has(name) ? this.storeMap.get(name) : null;
    };
    /*
     This method takes no args and validate is there a instace available per page
     */
    StoreManager.getInstance = function () {
        this._instance = this._instance || new this(new Map());
        return this._instance;
    };
    return StoreManager;
}());

//# sourceMappingURL=storemanager.js.map

/***/ }),

/***/ "./src/server.ts":
/*!***********************!*\
  !*** ./src/server.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "GET": () => (/* binding */ GET)
/* harmony export */ });
/* Api call helper internal use javascript fetch to call the api
*/
const GET = (url, header = []) => {
    console.log("**** makig get call *** ");
    return fetch(url).then(respose => respose.json());
};


/***/ }),

/***/ "./src/useractions.ts":
/*!****************************!*\
  !*** ./src/useractions.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AddNew": () => (/* binding */ AddNew),
/* harmony export */   "deleteUser": () => (/* binding */ deleteUser),
/* harmony export */   "updateUser": () => (/* binding */ updateUser)
/* harmony export */ });
const apiUrl = "https://randomuser.me/api/?results=1";
/*This action add new object to our state array. Every time we call this action it automatically
call the subscribe render method.
*/
const AddNew = (state, payload) => {
    console.log("Add Action");
    state.push(payload);
    return state;
};
/*This action delete object from our state array. Every time we call this action it automatically
call the subscribe render method. */
const deleteUser = (state, payload) => {
    console.log("Delete Action", payload);
    const isPresent = (el) => el.login.uuid == payload.login.uuid;
    const index = state.findIndex(isPresent);
    console.log("isPresent", index);
    if (index >= 0) {
        state.splice(index, 1);
    }
    console.log(state);
    return state;
};
/*This action update object from our state array. Every time we call this action it automatically
call the subscribe render method. */
const updateUser = (state, payload) => {
    console.log("Update Action");
    state[0] = payload;
    return state;
};


/***/ }),

/***/ "./src/view/atoms/addbutton.ts":
/*!*************************************!*\
  !*** ./src/view/atoms/addbutton.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AddNewButton": () => (/* binding */ AddNewButton)
/* harmony export */ });
/* harmony import */ var js_state_manager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! js-state-manager */ "../../node_modules/js-state-manager/lib/storemanager.js");
/* harmony import */ var _server__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../server */ "./src/server.ts");
/* harmony import */ var _useractions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../useractions */ "./src/useractions.ts");



const apiUrl = "https://randomuser.me/api/?results=1";
const AddNewButton = () => {
    let input = document.createElement("input");
    input.type = "button";
    input.className = "btn btn-primary";
    input.onclick = AddNewUser;
    input.value = "Add New";
    return input;
};
const AddNewUser = async () => {
    let res = await (0,_server__WEBPACK_IMPORTED_MODULE_1__.GET)(apiUrl);
    let userStore = js_state_manager__WEBPACK_IMPORTED_MODULE_0__.StoreManager.getInstance().getStore("userStore");
    userStore.dispatch(_useractions__WEBPACK_IMPORTED_MODULE_2__.AddNew, res.results[0]);
};


/***/ }),

/***/ "./src/view/atoms/userview.ts":
/*!************************************!*\
  !*** ./src/view/atoms/userview.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var js_state_manager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! js-state-manager */ "../../node_modules/js-state-manager/lib/storemanager.js");
/* harmony import */ var _useractions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../useractions */ "./src/useractions.ts");


const isEmptyObject = (value) => {
    return value && value.constructor === Object && Object.keys(value).length === 0;
};
const userTeamplate = (data) => {
    console.log(isEmptyObject(data));
    let template = document.createElement("template");
    template.innerHTML = `    
   <div class="col-sm-4">
     <!-- Begin user profile -->
   <div class="box-info text-center user-profile-2">
     <div class="header-cover">
      <button type="button" class="close" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
       <img src="https://via.placeholder.com/350x280/87CEFA/000000" alt="User cover">
     </div>
     <div class="user-profile-inner">
       <h4 class="white">${data.name.first} ${data.name.last}</h4>
       <img src=${data.picture.thumbnail} class="img-circle profile-avatar" alt="User avatar">
         
       <!-- User button -->
 
     </div>
   </div>
 </div> `;
    return template;
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((data) => {
    let userStore = js_state_manager__WEBPACK_IMPORTED_MODULE_0__.StoreManager.getInstance().getStore("userStore");
    if (isEmptyObject(data)) {
        return null;
    }
    else {
        let userview = userTeamplate(data);
        userview.content.querySelector(".close").addEventListener("click", () => {
            userStore.dispatch(_useractions__WEBPACK_IMPORTED_MODULE_1__.deleteUser, data);
        });
        return userview.content;
    }
});


/***/ }),

/***/ "./src/view/render.ts":
/*!****************************!*\
  !*** ./src/view/render.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render)
/* harmony export */ });
/* harmony import */ var _atoms_userview__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./atoms/userview */ "./src/view/atoms/userview.ts");
/* harmony import */ var _atoms_addbutton__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./atoms/addbutton */ "./src/view/atoms/addbutton.ts");
/* harmony import */ var _css_app_css__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./css/app.css */ "./src/view/css/app.css");



const container = document.querySelector(".listcontainer");
const buttonHolder = document.querySelector(".buttonHolder");
const styleEle = document.createElement('style');
styleEle.innerHTML = `${_css_app_css__WEBPACK_IMPORTED_MODULE_2__["default"][0][1]}`;
document.querySelector("body").appendChild(styleEle);
const render = (dataArray) => {
    document.querySelector(".listcontainer").innerHTML = "";
    let parentDiv = document.createElement("div");
    parentDiv.className = "container bootstrap snippets bootdey";
    dataArray.forEach(el => {
        let child = (0,_atoms_userview__WEBPACK_IMPORTED_MODULE_0__["default"])(el);
        child != null ? parentDiv.appendChild(child) : null;
    });
    container.appendChild(parentDiv);
    AddingButton();
};
const AddingButton = () => {
    if (!document.querySelector(".btn.btn-primary")) {
        buttonHolder.appendChild((0,_atoms_addbutton__WEBPACK_IMPORTED_MODULE_1__.AddNewButton)());
    }
};


/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			id: moduleId,
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be isolated against other modules in the chunk.
(() => {
/*!**********************!*\
  !*** ./src/users.ts ***!
  \**********************/
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./server */ "./src/server.ts");
/* harmony import */ var js_state_manager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! js-state-manager */ "../../node_modules/js-state-manager/lib/storemanager.js");
/* harmony import */ var _view_render__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./view/render */ "./src/view/render.ts");



const storeManager = js_state_manager__WEBPACK_IMPORTED_MODULE_1__.StoreManager.getInstance();
const apiUrl = "https://randomuser.me/api/?results=2";
const init = async () => {
    //get the list of user in this case 2 user
    let response = await (0,_server__WEBPACK_IMPORTED_MODULE_0__.GET)(apiUrl);
    //Create sotore object with name and user list i.e reposne.results
    let param = {
        name: "userStore",
        state: response.results,
    };
    let userstore = storeManager.createStore(param);
    //Subscribe the render method so that it change when the array object change its props 
    userstore.subscribe(_view_render__WEBPACK_IMPORTED_MODULE_2__.render);
    //fist render the obtained reponse.
    (0,_view_render__WEBPACK_IMPORTED_MODULE_2__.render)(response.results);
};
init();

})();

/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Ozs7Ozs7Ozs7Ozs7QUNONEI7QUFDbUI7QUFDWDtBQUdwQyxNQUFNLFlBQVksR0FBRyxzRUFBd0IsRUFBRSxDQUFDO0FBQ2hELE1BQU0sTUFBTSxHQUFHLHNDQUFzQyxDQUFDO0FBR3RELE1BQU0sSUFBSSxHQUFFLEtBQUssSUFBRSxFQUFFO0lBQ25CLDBDQUEwQztJQUMxQyxJQUFJLFFBQVEsR0FBRyxNQUFNLDRDQUFHLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDaEMsa0VBQWtFO0lBQ2pFLElBQUksS0FBSyxHQUFHO1FBQ1IsSUFBSSxFQUFDLFdBQVc7UUFDaEIsS0FBSyxFQUFDLFFBQVEsQ0FBQyxPQUFPO0tBQ3hCO0lBQ0YsSUFBSSxTQUFTLEdBQUcsWUFBWSxDQUFDLFdBQVcsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUNoRCx1RkFBdUY7SUFDdkYsU0FBUyxDQUFDLFNBQVMsQ0FBQyxnREFBTSxDQUFDLENBQUM7SUFDNUIsbUNBQW1DO0lBQ25DLG9EQUFNLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQztBQUU1QixDQUFDO0FBR0QsSUFBSSxFQUFFLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZW1vX3dpdGhBcnJheS8uL3NyYy92aWV3L2Nzcy9hcHAuY3NzIiwid2VicGFjazovL2RlbW9fd2l0aEFycmF5Ly4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanMiLCJ3ZWJwYWNrOi8vZGVtb193aXRoQXJyYXkvLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL3NvdXJjZU1hcHMuanMiLCJ3ZWJwYWNrOi8vZGVtb193aXRoQXJyYXkvLi4vLi4vbm9kZV9tb2R1bGVzL2pzLXN0YXRlLW1hbmFnZXIvbGliL3N0b3JlL2NhbGxiYWNrSGFuZGxlci5qcyIsIndlYnBhY2s6Ly9kZW1vX3dpdGhBcnJheS8uLi8uLi9ub2RlX21vZHVsZXMvanMtc3RhdGUtbWFuYWdlci9saWIvc3RvcmUvaGFuZGxlci5qcyIsIndlYnBhY2s6Ly9kZW1vX3dpdGhBcnJheS8uLi8uLi9ub2RlX21vZHVsZXMvanMtc3RhdGUtbWFuYWdlci9saWIvc3RvcmUvc3RvcmUuanMiLCJ3ZWJwYWNrOi8vZGVtb193aXRoQXJyYXkvLi4vLi4vbm9kZV9tb2R1bGVzL2pzLXN0YXRlLW1hbmFnZXIvbGliL3N0b3JlbWFuYWdlci5qcyIsIndlYnBhY2s6Ly9kZW1vX3dpdGhBcnJheS8uL3NyYy9zZXJ2ZXIudHMiLCJ3ZWJwYWNrOi8vZGVtb193aXRoQXJyYXkvLi9zcmMvdXNlcmFjdGlvbnMudHMiLCJ3ZWJwYWNrOi8vZGVtb193aXRoQXJyYXkvLi9zcmMvdmlldy9hdG9tcy9hZGRidXR0b24udHMiLCJ3ZWJwYWNrOi8vZGVtb193aXRoQXJyYXkvLi9zcmMvdmlldy9hdG9tcy91c2Vydmlldy50cyIsIndlYnBhY2s6Ly9kZW1vX3dpdGhBcnJheS8uL3NyYy92aWV3L3JlbmRlci50cyIsIndlYnBhY2s6Ly9kZW1vX3dpdGhBcnJheS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9kZW1vX3dpdGhBcnJheS93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly9kZW1vX3dpdGhBcnJheS93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vZGVtb193aXRoQXJyYXkvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9kZW1vX3dpdGhBcnJheS93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL2RlbW9fd2l0aEFycmF5Ly4vc3JjL3VzZXJzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18pO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIFwiYm9keXtcXG4gIGJhY2tncm91bmQ6I0VFRUVFRTsgICAgXFxuIH1cXG4gLnVzZXItcHJvZmlsZS0yIHtcXG4gICAgIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gICAgIG1hcmdpbi10b3A6MTBweDtcXG4gfVxcbiBcXG4gLmJveC1pbmZvIHtcXG4gICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gICAgIHBhZGRpbmc6IDE1cHg7XFxuICAgICBiYWNrZ3JvdW5kOiAjZmZmO1xcbiAgICAgY29sb3I6ICM1YjViNWI7XFxuICAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xcbiAgICAgLXdlYmtpdC10cmFuc2l0aW9uOiBBbGwgMC40cyBlYXNlO1xcbiAgICAgLW1vei10cmFuc2l0aW9uOiBBbGwgMC40cyBlYXNlO1xcbiAgICAgLW8tdHJhbnNpdGlvbjogQWxsIDAuNHMgZWFzZTtcXG4gICAgIGJvcmRlci1ib3R0b206NHB4IHNvbGlkICNEREREREQ7XFxuIH1cXG4gXFxuIC51c2VyLXByb2ZpbGUtMiAuaGVhZGVyLWNvdmVyIHtcXG4gICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgIGxlZnQ6IDA7XFxuICAgICB0b3A6IDA7XFxuICAgICByaWdodDogMDtcXG4gICAgIGhlaWdodDogMTMwcHg7XFxuICAgICBvdmVyZmxvdzogaGlkZGVuO1xcbiAgICAgei1pbmRleDogMTtcXG4gfVxcbiBcXG4gLnVzZXItcHJvZmlsZS0yIC51c2VyLXByb2ZpbGUtaW5uZXIge1xcbiAgICAgei1pbmRleDogMjtcXG4gICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gfVxcbiBcXG4gLnVzZXItcHJvZmlsZS0yIC51c2VyLXByb2ZpbGUtaW5uZXIgaDQud2hpdGUge1xcbiAgICAgY29sb3I6ICNmZmY7XFxuIH1cXG4gXFxuIC51c2VyLXByb2ZpbGUtMiAudXNlci1wcm9maWxlLWlubmVyIGltZy5wcm9maWxlLWF2YXRhciB7XFxuICAgICBib3gtc2hhZG93OiAwIDAgMCA1cHggcmdiYSgyNTUsMjU1LDI1NSwxKTtcXG4gICAgIC1tb3otYm94LXNoYWRvdzogMCAwIDAgNXB4IHJnYmEoMjU1LDI1NSwyNTUsMSk7XFxuICAgICAtd2Via2l0LWJveC1zaGFkb3c6IDAgMCAwIDVweCByZ2JhKDI1NSwyNTUsMjU1LDEpO1xcbiAgICAgYm9yZGVyOiBub25lO1xcbiAgICAgd2lkdGg6MTAwcHg7XFxuICAgICBoZWlnaHQ6MTAwcHg7XFxuIH1cXG4gXFxuIC51c2VyLWJ1dHRvbiB7XFxuICAgICBtYXJnaW46IDE1cHggMDtcXG4gfVwiLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIndlYnBhY2s6Ly8uL3NyYy92aWV3L2Nzcy9hcHAuY3NzXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCJBQUFBO0VBQ0Usa0JBQWtCO0NBQ25CO0NBQ0E7S0FDSSxrQkFBa0I7S0FDbEIsa0JBQWtCO0tBQ2xCLGVBQWU7Q0FDbkI7O0NBRUE7S0FDSSxrQkFBa0I7S0FDbEIsYUFBYTtLQUNiLGdCQUFnQjtLQUNoQixjQUFjO0tBQ2QsbUJBQW1CO0tBQ25CLGlDQUFpQztLQUNqQyw4QkFBOEI7S0FDOUIsNEJBQTRCO0tBQzVCLCtCQUErQjtDQUNuQzs7Q0FFQTtLQUNJLGtCQUFrQjtLQUNsQixPQUFPO0tBQ1AsTUFBTTtLQUNOLFFBQVE7S0FDUixhQUFhO0tBQ2IsZ0JBQWdCO0tBQ2hCLFVBQVU7Q0FDZDs7Q0FFQTtLQUNJLFVBQVU7S0FDVixrQkFBa0I7Q0FDdEI7O0NBRUE7S0FDSSxXQUFXO0NBQ2Y7O0NBRUE7S0FDSSx5Q0FBeUM7S0FDekMsOENBQThDO0tBQzlDLGlEQUFpRDtLQUNqRCxZQUFZO0tBQ1osV0FBVztLQUNYLFlBQVk7Q0FDaEI7O0NBRUE7S0FDSSxjQUFjO0NBQ2xCXCIsXCJzb3VyY2VzQ29udGVudFwiOltcImJvZHl7XFxuICBiYWNrZ3JvdW5kOiNFRUVFRUU7ICAgIFxcbiB9XFxuIC51c2VyLXByb2ZpbGUtMiB7XFxuICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICAgICBtYXJnaW4tdG9wOjEwcHg7XFxuIH1cXG4gXFxuIC5ib3gtaW5mbyB7XFxuICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICAgICBwYWRkaW5nOiAxNXB4O1xcbiAgICAgYmFja2dyb3VuZDogI2ZmZjtcXG4gICAgIGNvbG9yOiAjNWI1YjViO1xcbiAgICAgbWFyZ2luLWJvdHRvbTogMjBweDtcXG4gICAgIC13ZWJraXQtdHJhbnNpdGlvbjogQWxsIDAuNHMgZWFzZTtcXG4gICAgIC1tb3otdHJhbnNpdGlvbjogQWxsIDAuNHMgZWFzZTtcXG4gICAgIC1vLXRyYW5zaXRpb246IEFsbCAwLjRzIGVhc2U7XFxuICAgICBib3JkZXItYm90dG9tOjRweCBzb2xpZCAjREREREREO1xcbiB9XFxuIFxcbiAudXNlci1wcm9maWxlLTIgLmhlYWRlci1jb3ZlciB7XFxuICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgICBsZWZ0OiAwO1xcbiAgICAgdG9wOiAwO1xcbiAgICAgcmlnaHQ6IDA7XFxuICAgICBoZWlnaHQ6IDEzMHB4O1xcbiAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcXG4gICAgIHotaW5kZXg6IDE7XFxuIH1cXG4gXFxuIC51c2VyLXByb2ZpbGUtMiAudXNlci1wcm9maWxlLWlubmVyIHtcXG4gICAgIHotaW5kZXg6IDI7XFxuICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuIH1cXG4gXFxuIC51c2VyLXByb2ZpbGUtMiAudXNlci1wcm9maWxlLWlubmVyIGg0LndoaXRlIHtcXG4gICAgIGNvbG9yOiAjZmZmO1xcbiB9XFxuIFxcbiAudXNlci1wcm9maWxlLTIgLnVzZXItcHJvZmlsZS1pbm5lciBpbWcucHJvZmlsZS1hdmF0YXIge1xcbiAgICAgYm94LXNoYWRvdzogMCAwIDAgNXB4IHJnYmEoMjU1LDI1NSwyNTUsMSk7XFxuICAgICAtbW96LWJveC1zaGFkb3c6IDAgMCAwIDVweCByZ2JhKDI1NSwyNTUsMjU1LDEpO1xcbiAgICAgLXdlYmtpdC1ib3gtc2hhZG93OiAwIDAgMCA1cHggcmdiYSgyNTUsMjU1LDI1NSwxKTtcXG4gICAgIGJvcmRlcjogbm9uZTtcXG4gICAgIHdpZHRoOjEwMHB4O1xcbiAgICAgaGVpZ2h0OjEwMHB4O1xcbiB9XFxuIFxcbiAudXNlci1idXR0b24ge1xcbiAgICAgbWFyZ2luOiAxNXB4IDA7XFxuIH1cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qXG4gIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG4gIEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKSB7XG4gIHZhciBsaXN0ID0gW107IC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcblxuICBsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICB2YXIgY29udGVudCA9IFwiXCI7XG4gICAgICB2YXIgbmVlZExheWVyID0gdHlwZW9mIGl0ZW1bNV0gIT09IFwidW5kZWZpbmVkXCI7XG5cbiAgICAgIGlmIChpdGVtWzRdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChpdGVtWzRdLCBcIikge1wiKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgY29udGVudCArPSBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG5lZWRMYXllcikge1xuICAgICAgICBjb250ZW50ICs9IFwiQGxheWVyXCIuY29uY2F0KGl0ZW1bNV0ubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChpdGVtWzVdKSA6IFwiXCIsIFwiIHtcIik7XG4gICAgICB9XG5cbiAgICAgIGNvbnRlbnQgKz0gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtKTtcblxuICAgICAgaWYgKG5lZWRMYXllcikge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXRlbVsyXSkge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXRlbVs0XSkge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY29udGVudDtcbiAgICB9KS5qb2luKFwiXCIpO1xuICB9OyAvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuXG5cbiAgbGlzdC5pID0gZnVuY3Rpb24gaShtb2R1bGVzLCBtZWRpYSwgZGVkdXBlLCBzdXBwb3J0cywgbGF5ZXIpIHtcbiAgICBpZiAodHlwZW9mIG1vZHVsZXMgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsIHVuZGVmaW5lZF1dO1xuICAgIH1cblxuICAgIHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XG5cbiAgICBpZiAoZGVkdXBlKSB7XG4gICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgdGhpcy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgdmFyIGlkID0gdGhpc1tfaV1bMF07XG5cbiAgICAgICAgaWYgKGlkICE9IG51bGwpIHtcbiAgICAgICAgICBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKHZhciBfaTIgPSAwOyBfaTIgPCBtb2R1bGVzLmxlbmd0aDsgX2kyKyspIHtcbiAgICAgIHZhciBpdGVtID0gW10uY29uY2F0KG1vZHVsZXNbX2kyXSk7XG5cbiAgICAgIGlmIChkZWR1cGUgJiYgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBsYXllciAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICBpZiAodHlwZW9mIGl0ZW1bNV0gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICBpdGVtWzVdID0gbGF5ZXI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsxXSA9IFwiQGxheWVyXCIuY29uY2F0KGl0ZW1bNV0ubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChpdGVtWzVdKSA6IFwiXCIsIFwiIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzVdID0gbGF5ZXI7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKG1lZGlhKSB7XG4gICAgICAgIGlmICghaXRlbVsyXSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWE7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHN1cHBvcnRzKSB7XG4gICAgICAgIGlmICghaXRlbVs0XSkge1xuICAgICAgICAgIGl0ZW1bNF0gPSBcIlwiLmNvbmNhdChzdXBwb3J0cyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsxXSA9IFwiQHN1cHBvcnRzIChcIi5jb25jYXQoaXRlbVs0XSwgXCIpIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzRdID0gc3VwcG9ydHM7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbGlzdC5wdXNoKGl0ZW0pO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gbGlzdDtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgdmFyIGNvbnRlbnQgPSBpdGVtWzFdO1xuICB2YXIgY3NzTWFwcGluZyA9IGl0ZW1bM107XG5cbiAgaWYgKCFjc3NNYXBwaW5nKSB7XG4gICAgcmV0dXJuIGNvbnRlbnQ7XG4gIH1cblxuICBpZiAodHlwZW9mIGJ0b2EgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIHZhciBiYXNlNjQgPSBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShjc3NNYXBwaW5nKSkpKTtcbiAgICB2YXIgZGF0YSA9IFwic291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsXCIuY29uY2F0KGJhc2U2NCk7XG4gICAgdmFyIHNvdXJjZU1hcHBpbmcgPSBcIi8qIyBcIi5jb25jYXQoZGF0YSwgXCIgKi9cIik7XG4gICAgdmFyIHNvdXJjZVVSTHMgPSBjc3NNYXBwaW5nLnNvdXJjZXMubWFwKGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgIHJldHVybiBcIi8qIyBzb3VyY2VVUkw9XCIuY29uY2F0KGNzc01hcHBpbmcuc291cmNlUm9vdCB8fCBcIlwiKS5jb25jYXQoc291cmNlLCBcIiAqL1wiKTtcbiAgICB9KTtcbiAgICByZXR1cm4gW2NvbnRlbnRdLmNvbmNhdChzb3VyY2VVUkxzKS5jb25jYXQoW3NvdXJjZU1hcHBpbmddKS5qb2luKFwiXFxuXCIpO1xuICB9XG5cbiAgcmV0dXJuIFtjb250ZW50XS5qb2luKFwiXFxuXCIpO1xufTsiLCJ2YXIgX19zcHJlYWRBcnJheSA9ICh0aGlzICYmIHRoaXMuX19zcHJlYWRBcnJheSkgfHwgZnVuY3Rpb24gKHRvLCBmcm9tLCBwYWNrKSB7XG4gICAgaWYgKHBhY2sgfHwgYXJndW1lbnRzLmxlbmd0aCA9PT0gMikgZm9yICh2YXIgaSA9IDAsIGwgPSBmcm9tLmxlbmd0aCwgYXI7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgaWYgKGFyIHx8ICEoaSBpbiBmcm9tKSkge1xuICAgICAgICAgICAgaWYgKCFhcikgYXIgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChmcm9tLCAwLCBpKTtcbiAgICAgICAgICAgIGFyW2ldID0gZnJvbVtpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdG8uY29uY2F0KGFyIHx8IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20pKTtcbn07XG5leHBvcnQgdmFyIHByb2Nlc3NDYWxsQmFjayA9IGZ1bmN0aW9uIChjb250ZXh0LCBzdGF0ZSkge1xuICAgIGNvbnRleHQuY2FsbGJhY2tzLmZvckVhY2goZnVuY3Rpb24gKGNhbGxiYWNrT2JqKSB7XG4gICAgICAgIGNhbGxiYWNrT2JqLmNhbGxiYWNrcy5hcHBseShjb250ZXh0LCBfX3NwcmVhZEFycmF5KFtzdGF0ZV0sIGNhbGxiYWNrT2JqLmFyZ3MsIHRydWUpKTtcbiAgICB9KTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jYWxsYmFja0hhbmRsZXIuanMubWFwIiwiaW1wb3J0IHsgcHJvY2Vzc0NhbGxCYWNrIH0gZnJvbSBcIi4vY2FsbGJhY2tIYW5kbGVyXCI7XG5leHBvcnQgdmFyIGRlZmF1bHRIYW5kbGUgPSBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKHN0YXRlLCBrZXksIHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoa2V5ID09PSBcInNwbGljZVwiKSB7XG4gICAgICAgICAgICAgICAgdmFyIG9yaWdNZXRob2RfMSA9IHN0YXRlW2tleV07XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBvcmlnTWV0aG9kXzEuYXBwbHkoc3RhdGUsIGFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzQ2FsbEJhY2soY29udGV4dCwgc3RhdGUpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gc3RhdGVba2V5XTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoc3RhdGUsIGtleSwgdmFsdWUpIHtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHN0YXRlKSAmJiBrZXkgPT09IFwibGVuZ3RoXCIpIHtcbiAgICAgICAgICAgICAgICBzdGF0ZVtrZXldID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzdGF0ZVtrZXldID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgcHJvY2Vzc0NhbGxCYWNrKGNvbnRleHQsIHN0YXRlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZGVsZXRlUHJvcGVydHk6IGZ1bmN0aW9uIChzdGF0ZSwga2V5KSB7XG4gICAgICAgICAgICBpZiAoa2V5IGluIHN0YXRlKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHN0YXRlW2tleV07XG4gICAgICAgICAgICAgICAgcHJvY2Vzc0NhbGxCYWNrKGNvbnRleHQsIHN0YXRlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aGFuZGxlci5qcy5tYXAiLCJpbXBvcnQgeyBkZWZhdWx0SGFuZGxlIH0gZnJvbSBcIi4vaGFuZGxlclwiO1xudmFyIFN0YXRlU3RvcmUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU3RhdGVTdG9yZShwYXJhbSkge1xuICAgICAgICB0aGlzLm5hbWUgPSBwYXJhbS5uYW1lO1xuICAgICAgICB0aGlzLnN0YXRlID0gbmV3IFByb3h5KChwYXJhbS5zdGF0ZSB8fCB7fSksIGRlZmF1bHRIYW5kbGUodGhpcykpO1xuICAgICAgICB0aGlzLmNhbGxiYWNrcyA9IHBhcmFtLmNhbGxiYWNrcyB8fCBbXTtcbiAgICB9XG4gICAgU3RhdGVTdG9yZS5wcm90b3R5cGUuZGlzcGF0Y2ggPSBmdW5jdGlvbiAoYWN0aW9uQ2FsbGJhY2ssIHBheWxvYWQpIHtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IGFjdGlvbkNhbGxiYWNrKHRoaXMuc3RhdGUsIHBheWxvYWQpO1xuICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZTtcbiAgICB9O1xuICAgIFN0YXRlU3RvcmUucHJvdG90eXBlLnN1YnNjcmliZSA9IGZ1bmN0aW9uIChmbnBhcmFtKSB7XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBhcmdzW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2FsbGJhY2tzLnB1c2goeyBjYWxsYmFja3M6IGZucGFyYW0sIGFyZ3M6IGFyZ3MgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gU3RhdGVTdG9yZTtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBTdGF0ZVN0b3JlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3RvcmUuanMubWFwIiwiaW1wb3J0IHsgZGVmYXVsdCBhcyBTdG9yZSB9IGZyb20gXCIuL3N0b3JlL3N0b3JlXCI7XG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLyBTdG9yZSBNYW5hZ2VyIHByb3ZpZGUgc2lnbmxlIGluc3RhbmNlIHRvIG1hbmFnZXIgc3RvcmUgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbnZhciBTdG9yZU1hbmFnZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU3RvcmVNYW5hZ2VyKHN0b3JlTWFwKSB7XG4gICAgICAgIHRoaXMuc3RvcmVNYXAgPSBzdG9yZU1hcDtcbiAgICB9XG4gICAgLypcbiAgICAgVGhpcyBtZXRob2QgdGFrZXMgb25lICBhcmdzIE5hbWUgb2YgdGhlIHN0b3JlXG4gICAgICBhbmQgdmFsaWRhdGUgcmV0dXJucyB0aGUgc3RvcmUgaWYgcHJlc2VudHNcbiAgICAgKi9cbiAgICBTdG9yZU1hbmFnZXIucHJvdG90eXBlLmNyZWF0ZVN0b3JlID0gZnVuY3Rpb24gKHN0b3JlKSB7XG4gICAgICAgIHZhciBteXN0b3JlID0gbmV3IFN0b3JlKHN0b3JlKTtcbiAgICAgICAgdGhpcy5zdG9yZU1hcC5zZXQobXlzdG9yZS5uYW1lLCBteXN0b3JlKTtcbiAgICAgICAgcmV0dXJuIG15c3RvcmU7XG4gICAgfTtcbiAgICAvKlxuICAgICBUaGlzIG1ldGhvZCB0YWtlcyBvbmUgIGFyZ3MgTmFtZSBvZiB0aGUgc3RvcmVcbiAgICAgIGFuZCB2YWxpZGF0ZSByZXR1cm5zIHRoZSBzdG9yZSBpZiBwcmVzZW50c1xuICAgICAqL1xuICAgIFN0b3JlTWFuYWdlci5wcm90b3R5cGUuZ2V0U3RvcmUgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdG9yZU1hcC5oYXMobmFtZSkgPyB0aGlzLnN0b3JlTWFwLmdldChuYW1lKSA6IG51bGw7XG4gICAgfTtcbiAgICAvKlxuICAgICBUaGlzIG1ldGhvZCB0YWtlcyBubyBhcmdzIGFuZCB2YWxpZGF0ZSBpcyB0aGVyZSBhIGluc3RhY2UgYXZhaWxhYmxlIHBlciBwYWdlXG4gICAgICovXG4gICAgU3RvcmVNYW5hZ2VyLmdldEluc3RhbmNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9pbnN0YW5jZSA9IHRoaXMuX2luc3RhbmNlIHx8IG5ldyB0aGlzKG5ldyBNYXAoKSk7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnN0YW5jZTtcbiAgICB9O1xuICAgIHJldHVybiBTdG9yZU1hbmFnZXI7XG59KCkpO1xuZXhwb3J0IHsgU3RvcmVNYW5hZ2VyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdG9yZW1hbmFnZXIuanMubWFwIiwiLyogQXBpIGNhbGwgaGVscGVyIGludGVybmFsIHVzZSBqYXZhc2NyaXB0IGZldGNoIHRvIGNhbGwgdGhlIGFwaSBcbiovXG5cbmV4cG9ydCBjb25zdCBHRVQ9KHVybDpzdHJpbmcsIGhlYWRlcjpzdHJpbmdbXT1bXSk6UHJvbWlzZTxhbnk+PT57XG4gICAgY29uc29sZS5sb2coXCIqKioqIG1ha2lnIGdldCBjYWxsICoqKiBcIilcbiAgICByZXR1cm4gZmV0Y2godXJsKS50aGVuKHJlc3Bvc2U9PiByZXNwb3NlLmpzb24oKSk7XG5cbn1cblxuXG5cbiIsIlxuY29uc3QgYXBpVXJsID0gXCJodHRwczovL3JhbmRvbXVzZXIubWUvYXBpLz9yZXN1bHRzPTFcIjtcblxuXG4vKlRoaXMgYWN0aW9uIGFkZCBuZXcgb2JqZWN0IHRvIG91ciBzdGF0ZSBhcnJheS4gRXZlcnkgdGltZSB3ZSBjYWxsIHRoaXMgYWN0aW9uIGl0IGF1dG9tYXRpY2FsbHkgXG5jYWxsIHRoZSBzdWJzY3JpYmUgcmVuZGVyIG1ldGhvZC5cbiovXG5leHBvcnQgY29uc3QgQWRkTmV3ID0gKHN0YXRlICwgcGF5bG9hZCk9PntcbiAgICBjb25zb2xlLmxvZyhcIkFkZCBBY3Rpb25cIik7XG4gICAgc3RhdGUucHVzaChwYXlsb2FkKTtcbiAgICByZXR1cm4gIHN0YXRlO1xuICB9XG5cblxuXG5cbi8qVGhpcyBhY3Rpb24gZGVsZXRlIG9iamVjdCBmcm9tIG91ciBzdGF0ZSBhcnJheS4gRXZlcnkgdGltZSB3ZSBjYWxsIHRoaXMgYWN0aW9uIGl0IGF1dG9tYXRpY2FsbHkgXG5jYWxsIHRoZSBzdWJzY3JpYmUgcmVuZGVyIG1ldGhvZC4gKi9cblxuZXhwb3J0IGNvbnN0IGRlbGV0ZVVzZXIgPSAoc3RhdGUgLCBwYXlsb2FkKT0+e1xuICAgIGNvbnNvbGUubG9nKFwiRGVsZXRlIEFjdGlvblwiLHBheWxvYWQpXG4gICAgY29uc3QgaXNQcmVzZW50ICA9IChlbCkgPT4gZWwubG9naW4udXVpZCA9PSBwYXlsb2FkLmxvZ2luLnV1aWQ7XG4gICAgY29uc3QgaW5kZXggPSBzdGF0ZS5maW5kSW5kZXgoaXNQcmVzZW50KVxuICAgIGNvbnNvbGUubG9nKFwiaXNQcmVzZW50XCIsaW5kZXgpO1xuICAgIGlmKGluZGV4ID49IDApe1xuICAgICAgICAgc3RhdGUuc3BsaWNlKGluZGV4LDEpO1xuICAgIH0gICAgXG4gICAgY29uc29sZS5sb2coc3RhdGUpXG4gICAgcmV0dXJuICBzdGF0ZTtcbiAgfVxuXG5cblxuLypUaGlzIGFjdGlvbiB1cGRhdGUgb2JqZWN0IGZyb20gb3VyIHN0YXRlIGFycmF5LiBFdmVyeSB0aW1lIHdlIGNhbGwgdGhpcyBhY3Rpb24gaXQgYXV0b21hdGljYWxseSBcbmNhbGwgdGhlIHN1YnNjcmliZSByZW5kZXIgbWV0aG9kLiAqL1xuXG5leHBvcnQgY29uc3QgdXBkYXRlVXNlciA9IChzdGF0ZSwgcGF5bG9hZCk9PntcbiAgICBjb25zb2xlLmxvZyhcIlVwZGF0ZSBBY3Rpb25cIilcbiAgICBzdGF0ZVswXSA9IHBheWxvYWQ7XG4gICAgcmV0dXJuIHN0YXRlO1xufSIsImltcG9ydCB7IFN0b3JlTWFuYWdlciB9IGZyb20gXCJqcy1zdGF0ZS1tYW5hZ2VyXCI7XG5pbXBvcnQge0dFVH0gZnJvbSBcIi4uLy4uL3NlcnZlclwiXG5pbXBvcnQgeyBBZGROZXcgfSBmcm9tIFwiLi4vLi4vdXNlcmFjdGlvbnNcIjtcblxuY29uc3QgYXBpVXJsID0gXCJodHRwczovL3JhbmRvbXVzZXIubWUvYXBpLz9yZXN1bHRzPTFcIjtcblxuXG5cbmV4cG9ydCBjb25zdCBBZGROZXdCdXR0b24gPSAoKT0+IHtcbiAgIGxldCBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgIGlucHV0LnR5cGUgPSBcImJ1dHRvblwiO1xuICAgaW5wdXQuY2xhc3NOYW1lID1cImJ0biBidG4tcHJpbWFyeVwiXG4gICBpbnB1dC5vbmNsaWNrID0gQWRkTmV3VXNlclxuICAgaW5wdXQudmFsdWUgPSBcIkFkZCBOZXdcIlxucmV0dXJuIGlucHV0O1xuXG59XG5cbmNvbnN0IEFkZE5ld1VzZXIgPSBhc3luYygpPT57XG4gICBsZXQgcmVzID0gYXdhaXQgR0VUKGFwaVVybCk7XG4gICBsZXQgdXNlclN0b3JlID0gU3RvcmVNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3RvcmUoXCJ1c2VyU3RvcmVcIik7XG4gICB1c2VyU3RvcmUuZGlzcGF0Y2goQWRkTmV3LHJlcy5yZXN1bHRzWzBdKTtcblxufVxuIiwiaW1wb3J0IHsgU3RvcmVNYW5hZ2VyIH0gZnJvbSBcImpzLXN0YXRlLW1hbmFnZXJcIjtcbmltcG9ydCB7IGRlbGV0ZVVzZXIgfSBmcm9tIFwiLi4vLi4vdXNlcmFjdGlvbnNcIjtcblxuXG5jb25zdCBpc0VtcHR5T2JqZWN0ID0gKHZhbHVlKSA9PntcbiAgcmV0dXJuIHZhbHVlICYmIHZhbHVlLmNvbnN0cnVjdG9yID09PSBPYmplY3QgJiYgT2JqZWN0LmtleXModmFsdWUpLmxlbmd0aCA9PT0gMDtcbn1cbmNvbnN0IHVzZXJUZWFtcGxhdGUgPSAgIChkYXRhOmFueSk6SFRNTFRlbXBsYXRlRWxlbWVudCA9PntcbiAgY29uc29sZS5sb2coaXNFbXB0eU9iamVjdChkYXRhKSk7XG4gICAgIFxuICAgICBsZXQgdGVtcGxhdGU6SFRNTFRlbXBsYXRlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZW1wbGF0ZVwiKTtcbiAgICAgdGVtcGxhdGUuaW5uZXJIVE1MID0gYCAgICBcbiAgIDxkaXYgY2xhc3M9XCJjb2wtc20tNFwiPlxuICAgICA8IS0tIEJlZ2luIHVzZXIgcHJvZmlsZSAtLT5cbiAgIDxkaXYgY2xhc3M9XCJib3gtaW5mbyB0ZXh0LWNlbnRlciB1c2VyLXByb2ZpbGUtMlwiPlxuICAgICA8ZGl2IGNsYXNzPVwiaGVhZGVyLWNvdmVyXCI+XG4gICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImNsb3NlXCIgYXJpYS1sYWJlbD1cIkNsb3NlXCI+XG4gICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XG4gICAgICA8L2J1dHRvbj5cbiAgICAgICA8aW1nIHNyYz1cImh0dHBzOi8vdmlhLnBsYWNlaG9sZGVyLmNvbS8zNTB4MjgwLzg3Q0VGQS8wMDAwMDBcIiBhbHQ9XCJVc2VyIGNvdmVyXCI+XG4gICAgIDwvZGl2PlxuICAgICA8ZGl2IGNsYXNzPVwidXNlci1wcm9maWxlLWlubmVyXCI+XG4gICAgICAgPGg0IGNsYXNzPVwid2hpdGVcIj4ke2RhdGEubmFtZS5maXJzdH0gJHtkYXRhLm5hbWUubGFzdH08L2g0PlxuICAgICAgIDxpbWcgc3JjPSR7ZGF0YS5waWN0dXJlLnRodW1ibmFpbH0gY2xhc3M9XCJpbWctY2lyY2xlIHByb2ZpbGUtYXZhdGFyXCIgYWx0PVwiVXNlciBhdmF0YXJcIj5cbiAgICAgICAgIFxuICAgICAgIDwhLS0gVXNlciBidXR0b24gLS0+XG4gXG4gICAgIDwvZGl2PlxuICAgPC9kaXY+XG4gPC9kaXY+IGBcblxuIHJldHVybiB0ZW1wbGF0ZTtcbiBcbn1cblxuZXhwb3J0IGRlZmF1bHQgIChkYXRhOmFueSk9PntcbiAgbGV0IHVzZXJTdG9yZSA9IFN0b3JlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFN0b3JlKFwidXNlclN0b3JlXCIpO1xuICBpZihpc0VtcHR5T2JqZWN0KGRhdGEpKXtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBlbHNlIHtcbiAgICAgIGxldCB1c2VydmlldzpIVE1MVGVtcGxhdGVFbGVtZW50ID0gIHVzZXJUZWFtcGxhdGUoZGF0YSk7XG4gICAgICB1c2Vydmlldy5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2xvc2VcIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsKCk9PntcbiAgICAgIHVzZXJTdG9yZS5kaXNwYXRjaChkZWxldGVVc2VyLGRhdGEpO1xuXG4gICAgfSk7XG4gICAgcmV0dXJuIHVzZXJ2aWV3LmNvbnRlbnQ7XG4gIH1cblxufVxuXG4iLCJpbXBvcnQgdXNlcnZpZXcgZnJvbSBcIi4vYXRvbXMvdXNlcnZpZXdcIjtcbmltcG9ydCB7IEFkZE5ld0J1dHRvbiB9IGZyb20gXCIuL2F0b21zL2FkZGJ1dHRvblwiO1xuaW1wb3J0ICogYXMgc3R5bGVzICBmcm9tIFwiLi9jc3MvYXBwLmNzc1wiO1xuXG5cbmNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubGlzdGNvbnRhaW5lclwiKTtcbmNvbnN0IGJ1dHRvbkhvbGRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnV0dG9uSG9sZGVyXCIpO1xuY29uc3Qgc3R5bGVFbGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuc3R5bGVFbGUuaW5uZXJIVE1MID0gYCR7c3R5bGVzW1wiZGVmYXVsdFwiXVswXVsxXX1gO1xuZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImJvZHlcIikuYXBwZW5kQ2hpbGQoc3R5bGVFbGUpO1xuXG5cblxuXG5leHBvcnQgY29uc3QgcmVuZGVyID0oZGF0YUFycmF5OmFueVtdKT0+e1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubGlzdGNvbnRhaW5lclwiKS5pbm5lckhUTUwgPSBcIlwiO1xuICAgIGxldCBwYXJlbnREaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIHBhcmVudERpdi5jbGFzc05hbWUgPVwiY29udGFpbmVyIGJvb3RzdHJhcCBzbmlwcGV0cyBib290ZGV5XCI7XG4gICAgZGF0YUFycmF5LmZvckVhY2goZWwgPT4ge1xuICAgICAgICBsZXQgY2hpbGQgPSB1c2VydmlldyhlbCk7XG4gICAgICAgIGNoaWxkIT1udWxsPyBwYXJlbnREaXYuYXBwZW5kQ2hpbGQoY2hpbGQpOm51bGxcbiAgICB9KTtcbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQocGFyZW50RGl2KTtcbiAgICBBZGRpbmdCdXR0b24oKTtcbiAgfVxuXG4gIGNvbnN0IEFkZGluZ0J1dHRvbj0oKT0+e1xuICAgIGlmKCFkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJ0bi5idG4tcHJpbWFyeVwiKSl7XG4gICAgICBidXR0b25Ib2xkZXIuYXBwZW5kQ2hpbGQoQWRkTmV3QnV0dG9uKCkpO1xuICAgXG5cbiAgICBcbiAgICB9XG4gICBcbiAgXG4gIH1cbiAiLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdGlkOiBtb2R1bGVJZCxcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gKG1vZHVsZVsnZGVmYXVsdCddKSA6XG5cdFx0KCkgPT4gKG1vZHVsZSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiaW1wb3J0IHtHRVR9IGZyb20gXCIuL3NlcnZlclwiXG5pbXBvcnQgIHtTdG9yZU1hbmFnZXIgfSBmcm9tIFwianMtc3RhdGUtbWFuYWdlclwiXG5pbXBvcnQge3JlbmRlcn0gZnJvbSBcIi4vdmlldy9yZW5kZXJcIlxuXG5cbmNvbnN0IHN0b3JlTWFuYWdlciA9IFN0b3JlTWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuY29uc3QgYXBpVXJsID0gXCJodHRwczovL3JhbmRvbXVzZXIubWUvYXBpLz9yZXN1bHRzPTJcIjtcblxuXG5jb25zdCBpbml0ID1hc3luYygpPT57XG4gIC8vZ2V0IHRoZSBsaXN0IG9mIHVzZXIgaW4gdGhpcyBjYXNlIDIgdXNlclxuICBsZXQgcmVzcG9uc2UgPSBhd2FpdCBHRVQoYXBpVXJsKTtcbiAgIC8vQ3JlYXRlIHNvdG9yZSBvYmplY3Qgd2l0aCBuYW1lIGFuZCB1c2VyIGxpc3QgaS5lIHJlcG9zbmUucmVzdWx0c1xuICAgIGxldCBwYXJhbSA9IHtcbiAgICAgICAgbmFtZTpcInVzZXJTdG9yZVwiLFxuICAgICAgICBzdGF0ZTpyZXNwb25zZS5yZXN1bHRzLFxuICAgICB9XG4gICAgbGV0IHVzZXJzdG9yZSA9IHN0b3JlTWFuYWdlci5jcmVhdGVTdG9yZShwYXJhbSk7XG4gICAgLy9TdWJzY3JpYmUgdGhlIHJlbmRlciBtZXRob2Qgc28gdGhhdCBpdCBjaGFuZ2Ugd2hlbiB0aGUgYXJyYXkgb2JqZWN0IGNoYW5nZSBpdHMgcHJvcHMgXG4gICAgdXNlcnN0b3JlLnN1YnNjcmliZShyZW5kZXIpO1xuICAgIC8vZmlzdCByZW5kZXIgdGhlIG9idGFpbmVkIHJlcG9uc2UuXG4gICAgcmVuZGVyKHJlc3BvbnNlLnJlc3VsdHMpXG5cbn1cblxuXG5pbml0KCk7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9